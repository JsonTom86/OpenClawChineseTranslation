name: Sync Fork

on:
  schedule:
    - cron: "0 */2 * * *"  # 每2小时执行一次
  workflow_dispatch:       # 允许手动触发

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          ref: main  # 根据实际分支名修改
          
      - name: Sync fork with upstream
        uses: aormsby/Fork-Sync-With-Upstream-action@v2  # 更新到最新版本
        with:
          upstream_remote_url: https://github.com/1186258278/OpenClawChineseTranslation.git
          target_branch: main  # 同步到目标分支
          github_token: ${{ secrets.GH_PAT }}  # 使用PAT替代默认Token
          auto_approve: true  # 自动批准PR（需配合PAT）
